name: LAMP Deployment

on:
  workflow_dispatch:

jobs:
  linting:
    name: Lint Ansible files
    runs-on: ubuntu-latest

    steps:
    - name: Checkout sources
      uses: actions/checkout@v2

    - name: Install dependencies
      run: pip install --upgrade ansible-lint rich

    - name: Lint Ansible files
      uses: ansible/ansible-lint-action@latest
      with:
        targets: "ansible/playbook.yml ansible/inventory.yml"
        args: "-c ansible/ansible-lint"
          
